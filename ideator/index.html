<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ideator - AI Concept Synthesizer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIj48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6bS00LThjMC0yLjIxIDEuNzktNCA0LTRzNDEuNzkgNCA0YzAgMi4yMS0xLjc5IDQtNCA0cy00LTEuNzktNC00eiIvPjwvc3ZnPg==">
  <style>
    .note-card {
      height: 100%;
      min-height: 400px;
    }

    .note-display {
      min-height: 200px;
      max-height: 400px;
      overflow-y: auto;
      border: 1px solid var(--bs-border-color);
      border-radius: 0.375rem;
      padding: 1rem;
      background-color: var(--bs-secondary-bg);
    }

    .note-display :is(h1, h2, h3, h4, h5, h6) {
      font-size: revert;
      font-weight: revert;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .note-display ul,
    .note-display ol {
      margin-bottom: 0.5rem;
    }

    .note-display p {
      margin-bottom: 0.5rem;
    }

    .goal-card {
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid var(--bs-border-color);
      background: linear-gradient(135deg, var(--bs-light) 0%, var(--bs-white) 100%);
    }

    .goal-card:hover {
      border-color: var(--bs-primary);
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      background: linear-gradient(135deg, var(--bs-primary-bg-subtle) 0%, var(--bs-white) 100%);
    }

    .goal-card i {
      font-size: 1.5rem;
      color: var(--bs-primary);
    }

    .ideate-buttons {
      gap: 0.5rem;
    }

    .note-meta {
      font-size: 0.875rem;
      color: var(--bs-secondary-color);
    }

    .filter-input {
      font-size: 0.875rem;
    }
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-body-tertiary mb-4" data-bs-theme="dark">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="../">
        <i class="bi bi-lightbulb me-2"></i>
        Ideator
      </a>
      <div class="bootstrap-dark-theme"></div>
    </div>
  </nav>

  <main class="container-fluid pb-5" style="max-width: 1400px">
    <header class="mt-4 mb-4">
      <div class="row align-items-center mb-4">
        <div class="col-lg-8">
          <h2 class="fs-3 mb-3 fw-bold">
            <i class="bi bi-stars text-primary me-2"></i>AI Concept Synthesizer
          </h2>
          <p class="lead mb-3">
            Break free from creative blocks by mashing up unexpected ideas.
          </p>
          <p class="text-secondary mb-2">
            This tool helps you generate <strong>novel, useful ideas</strong> by combining random insights from curated knowledge bases.
            Instead of brainstorming alone, you're remixing proven concepts in surprising ways.
          </p>
        </div>
        <div class="col-lg-4">
          <div class="card bg-light border-0">
            <div class="card-body">
              <h6 class="card-title fw-bold mb-2"><i class="bi bi-lightbulb text-warning me-2"></i>Why it works</h6>
              <ul class="small mb-0 ps-3">
                <li>Forces unexpected connections</li>
                <li>Breaks mental patterns</li>
                <li>Draws from expert knowledge</li>
                <li>Provides concrete starting points</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="alert alert-info d-flex align-items-start" role="alert">
        <i class="bi bi-info-circle-fill me-2 mt-1"></i>
        <div>
          <strong>How to use:</strong>
          <ol class="mb-0 ps-3 mt-2">
            <li>Pick a <strong>Quick Goal</strong> or type your own objective</li>
            <li>Select two <strong>concepts</strong> (or hit Random for serendipity)</li>
            <li>Click <strong>"Ideate with"</strong> your preferred AI to generate breakthrough ideas</li>
          </ol>
        </div>
      </div>
    </header>

    <div id="loadingIndicator" class="text-center mb-4 d-none">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading notes...</span>
      </div>
      <p class="mt-2 text-secondary">Fetching notes from repository...</p>
    </div>

    <div id="errorContainer"></div>

    <div id="appContent" class="d-none">
      <!-- Goal Selection Cards -->
      <section class="mb-4">
        <h3 class="h5 mb-3 fw-bold"><i class="bi bi-lightbulb-fill text-warning me-2"></i>Quick Goals</h3>
        <div id="goalCards" class="row row-cols-2 row-cols-md-3 row-cols-lg-5 g-3"></div>
      </section>

      <!-- Goal Input -->
      <section class="mb-4">
        <label for="goalInput" class="form-label fw-semibold">What's your goal?</label>
        <input type="text" class="form-control" id="goalInput" placeholder="e.g., Build an innovative web app for local businesses">
      </section>

      <!-- Note Selection Cards -->
      <section class="mb-4">
        <div class="row g-4">
          <div class="col-lg-6">
            <div class="card note-card">
              <div class="card-header">
                <strong>Concept 1</strong>
              </div>
              <div class="card-body">
                <div class="row g-2 mb-3">
                  <div class="col-md-5">
                    <label for="source1" class="form-label small">Source</label>
                    <select class="form-select form-select-sm" id="source1"></select>
                  </div>
                  <div class="col-md-7">
                    <label for="filter1" class="form-label small">Search notes <i class="bi bi-info-circle" title="Type keywords to filter notes. Use arrow keys to navigate."></i></label>
                    <input type="text" class="form-control form-control-sm filter-input" id="filter1" placeholder="e.g., learning, AI, design...">
                  </div>
                </div>
                <div class="row g-2 mb-3">
                  <div class="col-4">
                    <label for="index1" class="form-label small">Note # <i class="bi bi-info-circle" title="Jump to a specific note by number"></i></label>
                    <input type="number" class="form-control form-control-sm" id="index1" min="0" value="0">
                  </div>
                  <div class="col-4">
                    <label for="decay1" class="form-label small">Recency <i class="bi bi-info-circle" title="Higher = prefer recent notes, Lower = all notes equally likely"></i></label>
                    <input type="range" class="form-range" id="decay1" min="0" max="100" value="50">
                    <div class="text-center small" id="decay1Value">50</div>
                  </div>
                  <div class="col-4">
                    <label class="form-label small">&nbsp;</label>
                    <button type="button" class="btn btn-sm btn-outline-primary w-100 d-block" id="random1" title="Pick a random note">
                      <i class="bi bi-shuffle"></i> Random
                    </button>
                  </div>
                </div>
                <div class="note-meta mb-2">
                  <span id="meta1"></span>
                </div>
                <div id="note1" class="note-display"></div>
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="card note-card">
              <div class="card-header">
                <strong>Concept 2</strong>
              </div>
              <div class="card-body">
                <div class="row g-2 mb-3">
                  <div class="col-md-5">
                    <label for="source2" class="form-label small">Source</label>
                    <select class="form-select form-select-sm" id="source2"></select>
                  </div>
                  <div class="col-md-7">
                    <label for="filter2" class="form-label small">Search notes <i class="bi bi-info-circle" title="Type keywords to filter notes. Use arrow keys to navigate."></i></label>
                    <input type="text" class="form-control form-control-sm filter-input" id="filter2" placeholder="e.g., learning, AI, design...">
                  </div>
                </div>
                <div class="row g-2 mb-3">
                  <div class="col-4">
                    <label for="index2" class="form-label small">Note # <i class="bi bi-info-circle" title="Jump to a specific note by number"></i></label>
                    <input type="number" class="form-control form-control-sm" id="index2" min="0" value="0">
                  </div>
                  <div class="col-4">
                    <label for="decay2" class="form-label small">Recency <i class="bi bi-info-circle" title="Higher = prefer recent notes, Lower = all notes equally likely"></i></label>
                    <input type="range" class="form-range" id="decay2" min="0" max="100" value="50">
                    <div class="text-center small" id="decay2Value">50</div>
                  </div>
                  <div class="col-4">
                    <label class="form-label small">&nbsp;</label>
                    <button type="button" class="btn btn-sm btn-outline-primary w-100 d-block" id="random2" title="Pick a random note">
                      <i class="bi bi-shuffle"></i> Random
                    </button>
                  </div>
                </div>
                <div class="note-meta mb-2">
                  <span id="meta2"></span>
                </div>
                <div id="note2" class="note-display"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Ideate Buttons -->
      <section class="mb-4">
        <h3 class="h6 mb-3">Ideate with</h3>
        <div class="d-flex flex-wrap ideate-buttons mb-3">
          <button type="button" class="btn btn-primary" id="ideateClause">
            <i class="bi bi-chat-dots"></i> Claude
          </button>
          <button type="button" class="btn btn-success" id="ideateChatGPT">
            <i class="bi bi-chat-left-text"></i> ChatGPT
          </button>
          <button type="button" class="btn btn-info" id="ideateGoogle">
            <i class="bi bi-google"></i> Google
          </button>
          <button type="button" class="btn btn-dark" id="ideateGrok">
            <i class="bi bi-chat-quote"></i> Grok
          </button>
          <button type="button" class="btn btn-outline-secondary" id="copyPrompt">
            <i class="bi bi-clipboard"></i> Copy
          </button>
        </div>
      </section>

      <!-- Prompt Template -->
      <section class="mb-4">
        <div class="accordion" id="promptAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#promptCollapse">
                Prompt Template (Advanced)
              </button>
            </h2>
            <div id="promptCollapse" class="accordion-collapse collapse" data-bs-parent="#promptAccordion">
              <div class="accordion-body">
                <textarea class="form-control font-monospace" id="promptTemplate" rows="20"></textarea>
                <button type="button" class="btn btn-sm btn-outline-secondary mt-2" id="resetTemplate">Reset to Default</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-dark-theme@1" type="module"></script>
  <script type="module" src="script.js"></script>
</body>

</html>
