<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scrape WhatsApp Messages</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%230d6efd%22%20class%3D%22bi%20bi-whatsapp%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.601%202.326A7.85%207.85%200%200%200%207.994%200C3.627%200%20.068%203.558.064%207.926c0%201.399.366%202.76%201.057%203.965L0%2016l4.204-1.102a7.9%207.9%200%200%200%203.79.965h.004c4.368%200%207.926-3.558%207.93-7.93A7.9%207.9%200%200%200%2013.6%202.326zM7.994%2014.521a6.6%206.6%200%200%201-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56%206.56%200%200%201-1.007-3.505c0-3.626%202.957-6.584%206.591-6.584a6.56%206.56%200%200%201%204.66%201.931%206.56%206.56%200%200%201%201.928%204.66c-.004%203.639-2.961%206.592-6.592%206.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73%200%200%200-.529.247c-.182.198-.691.677-.691%201.654s.71%201.916.81%202.049c.098.133%201.394%202.132%203.383%202.992.47.205.84.326%201.129.418.475.152.904.129%201.246.08.38-.058%201.171-.48%201.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232%22%2F%3E%3C%2Fsvg%3E">
  <!-- Bootstrap CSS and Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body class="bg-light">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="text-center mb-5">
          <h1 class="display-4 mb-3">
            <i class="bi bi-markdown-fill me-2 text-primary"></i>
            Scrape WhatsApp Messages
          </h1>
          <p class="lead text-secondary">Archive or analyze long chats by extracting the data</p>
        </div>

        <div class="bg-white shadow-sm rounded-3 p-4 text-center my-5">
          <p class="mb-3">Drag this button to your bookmarks bar:</p>
          <a href="" id="bookmarklet" class="btn btn-primary btn-lg mb-3 shadow-sm">
            ðŸ’¬ WhatsApp Scraper
          </a>
          <p class="text-secondary small">
            <i class="bi bi-info-circle me-1"></i>
            Click and drag the button above to your bookmarks bar
          </p>
        </div>

        <div class="bg-white shadow-sm rounded-3 p-4 my-5 col-lg-8 col-xl-6 mx-auto">
          <h2 class="h5 ms-3 text-secondary text-center my-3">Usage</h2>
          <ol>
            <li>Open the WhatsApp chat to scrape</li>
            <li>Scroll until all messages are visible</li>
            <li>Click on the <kbd>ðŸ’¬ WhatsApp Scraper</kbd> bookmarklet</li>
          </ol>
          <p>The messages are copied as JSON to your clipboard</p>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    fetch("whatsappscraper.min.js")
      .then(response => response.text())
      .then(code => {
        const bookmarkletCode = `${code};whatsappscraper.scrape();`;
        const bookmarklet = document.getElementById("bookmarklet");
        bookmarklet.href = "javascript:" + encodeURIComponent(bookmarkletCode);
      });
  </script>
</body>

</html>