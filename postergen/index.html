<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PosterGen</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9IiMyNTYzZWIiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMTYgNyAyIDcgNyAyLTcgMi0yIDctMi03LTctMiA3LTJaIi8+PC9zdmc+">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css" crossorigin="anonymous">
  <style>
    .narrative {
      max-inline-size: 40rem;
    }

    ul.bullet-queries {
      list-style-type: none;
      padding: 0;
    }

    ul.bullet-queries li {
      margin-bottom: 6px;
      padding-left: 2rem;
      position: relative;
    }

    ul.bullet-queries li::before {
      content: '❓';
      left: 0;
      position: absolute;
    }

    /* Template and logo card selection styles */
    .template-card,
    .logo-card {
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      border: 3px solid transparent;
    }

    .template-card:hover,
    .logo-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .template-card.active,
    .logo-card.active {
      border-color: var(--bs-primary);
      box-shadow: 0 0 0 3px rgba(var(--bs-primary-rgb), 0.25);
      transform: translateY(-5px);
    }

    .template-card.active::after,
    .logo-card.active::after {
      content: "✓";
      position: absolute;
      top: -10px;
      right: -10px;
      background-color: var(--bs-primary);
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-body-tertiary mb-4" data-bs-theme="dark">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="../">
        <i class="bi bi-stars me-2"></i>
        Concept to Poster
      </a>
      <div class="d-flex align-items-center gap-2 ms-auto">
        <button class="btn btn-outline-secondary" id="openai-config-btn" title="Configure API Key" type="button">
          <i class="bi bi-gear"></i>
        </button>
        <div class="bootstrap-dark-theme"></div>
      </div>
    </div>
  </nav>

  <div class="container">
    <header class="mt-4 mb-4">
      <h2 class="fs-4 mb-2">Generate branded posters from a brief</h2>
      <p class="text-secondary mb-0">Choose a size, pick a template and logo, then describe what you want on the poster.</p>
    </header>
    <div class="narrative mb-4">
      <p class="mb-1"><strong>1.</strong> Select a size.</p>
      <p class="mb-1"><strong>2.</strong> Pick a template and logo.</p>
      <p class="mb-0"><strong>3.</strong> Write a brief and generate a poster you can download.</p>
    </div>

    <div class="narrative">
      <label for="aspect-ratio" class="form-label">Select Size:</label>
      <select class="form-select" id="aspect-ratio" aria-label="Select poster format">
        <optgroup label="Social Media">
          <option value="instagram-square" data-width="1080" data-height="1080">Instagram Square (1:1) - 1080×1080px</option>
          <option value="instagram-portrait" data-width="1080" data-height="1350">Instagram Portrait (4:5) - 1080×1350px</option>
          <option value="instagram-story" data-width="1080" data-height="1920">Instagram Story (9:16) - 1080×1920px</option>
          <option value="facebook" data-width="1200" data-height="675">Facebook Post (16:9) - 1200×675px</option>
          <option value="linkedin" data-width="1200" data-height="800">LinkedIn (3:2) - 1200×800px</option>
        </optgroup>
        <optgroup label="Marketing">
          <option value="twitter" data-width="1200" data-height="600">Twitter Post (2:1) - 1200×600px</option>
          <option value="pinterest" data-width="1000" data-height="1500">Pinterest Pin (2:3) - 1000×1500px</option>
          <option value="youtube" data-width="1280" data-height="720">YouTube Thumbnail (16:9) - 1280×720px</option>
          <option value="display" data-width="800" data-height="600">Display Ad (4:3) - 800×600px</option>
        </optgroup>
      </select>
    </div>
  </div>

  <div id="sampleContainer" class="container my-4 d-flex flex-wrap align-items-center gap-2"></div>

  <div id="template-gallery" class="container my-5"></div>
  <div id="logo-gallery" class="container my-5"></div>

  <form id="poster-form" class="narrative mx-auto">
    <div>
      <label for="brief" class="form-label d-none">Describe your poster</label>
      <textarea id="brief" class="form-control" rows="4" placeholder="Describe your poster..." required>Create an inspiring poster</textarea>
    </div>
    <div class="d-grid mt-3" id="submit-container"></div>

    <div id="error-message" class="alert alert-danger mt-3 d-none">
      <i class="bi bi-exclamation-triangle-fill"></i>
      <strong>Note:</strong> Please select a poster and a logo.
    </div>

    <div class="mt-3">
      <p>
        <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#advancedOptions" aria-expanded="false" aria-controls="advancedOptions">
          <i class="bi bi-gear"></i> Advanced Options
        </button>
      </p>
      <div class="collapse" id="advancedOptions">
        <div class="card card-body">
          <div class="mb-3">
            <label for="system" class="form-label">System Prompt</label>
            <textarea name="system" id="system" class="form-control" rows="3">You are an expert poster designer.
You will be given a set of placeholders, text or image, with a .prompt and default styles you can modify.
Using the .prompt, for type=text placeholders, fill "@text" content; for type="image", fill "@prompt" for an LLM to generate the image.
Update styles ONLY if needed and different from default.

1. Guess the user's objective in designing this poster.
2. List 3 options for each placeholder. Next to each, list pros and cons with respect to the objective CONCISELY in 1 sentence each.
3. Pick the option best aligned with the objective for each placeholder. (The product/category should clearly take center stage on images.)
</textarea>
          </div>
        </div>
      </div>
    </div>
  </form>

  <div id="response" class="narrative my-5 mx-auto"></div>

  <div id="poster" class="mx-auto my-5 position-relative"></div>

  <form id="image-enhancement-container" class="narrative my-5 mx-auto d-none">
    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0">Poster Enhancement Assistant</h5>
      </div>
      <div class="card-body">
        <div id="conversation-history" class="mb-3" style="max-height: 200px; overflow-y: auto;"></div>
        <div class="d-flex align-items-center">
          <textarea id="enhancement-prompt" class="form-control rounded-pill me-2" placeholder="Describe image enhancements..." style="resize: none; height: 38px;"></textarea>
          <button type="submit" class="btn btn-primary rounded-circle d-flex align-items-center justify-content-center p-0" id="enhance-image-btn" style="width: 38px; height: 36px;"><i class="bi bi-arrow-up"></i></button>
        </div>
      </div>
    </div>
  </form>

  <div id="download-container" class="d-flex justify-content-center align-items-center my-5 d-none">
    <button type="button" class="btn btn-lg btn-success mx-2" id="download-png"><i class="bi bi-card-image"></i> Download PNG</button>
    <button type="button" class="btn btn-lg btn-success mx-2" id="download-pptx"><i class="bi bi-file-slides-fill"></i> Download PPTX</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-dark-theme@1" type="module"></script>
  <script src="script.js" type="module"></script>
</body>

</html>
