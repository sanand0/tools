<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Google Suggest Explorer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIj48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QTE0LjQ4IDE0LjQ4IDAgMCAwIDE2LjQgOWgtMi40Yy0xLjE3IDAtMi4xOC42My0yLjY4IDEuNThMMTAuMiAxM0gxMGwtMS4xMy0yLjQyYy0uNS0uOTUtMS41MS0xLjU4LTIuNjgtMS41OEg0Yy0xLjM4IDAtMi41IDEuMTItMi41IDIuNVMxLjYyIDE0IDIuNSAxNGg0LjVjLjcyIDAgMS4zOC0uMzggMS43NS0xLjAzbDEuMDMtMi4xN0wxMCAxM2gxLjZsMS4zOC0zLjA0QzEzLjM0IDEwLjUgMTQuMzQgMTAgMTUuNSA5YzEuMzggMCAyLjUgMS4xMiAyLjUgMi41cy0xLjEyIDIuNS0yLjUgMi41ek0xMCAxOGMtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNSA1LTIuMjQgNS01LTItNS01LTZabTAtOGMyLjc2IDAgNS0yLjI0IDUtNVMxMi43NiAwIDEwIDAgNSA1LjI0IDUgMyAyLjI0IDMgNSAzem0xMCA1YzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01LTUgMi4yNC01IDUgMi4yNCA1IDUgNXoiLz48L3N2Zz4=">
  <style>
    .country-results-container { margin-bottom: 1rem; }
    .country-name { font-weight: bold; margin-bottom: 0.5rem; display: block; }
    .suggestions-list { list-style-type: none; padding-left: 0; margin-bottom: 0; }
    .suggestions-list li a {
      display: block;
      padding: 0.2rem 0.25rem;
      text-decoration: none;
      color: #0d6efd; /* Bootstrap primary blue */
      border-radius: 0.25rem;
    }
    .suggestions-list li a:hover {
      background-color: #e9ecef; /* Light grey background on hover */
      color: #0a58ca; /* Darker blue on hover */
    }
    .history-item { cursor: pointer; }
    #llmResponse :is(h1,h2,h3,h4,h5,h6) { font-size: revert; font-weight: revert; }
    .search-history-section { margin-bottom: 1.5rem; }
    .suggestions-grid .card { height: 100%; } /* Make cards in a row same height */
    .suggestions-grid .card-body { overflow-y: auto; max-height: 300px; } /* Scroll long lists */
  </style>
</head>
<body>
  <div class="container py-4">
    <header class="pb-3 mb-4 border-bottom">
      <a href="#" class="d-flex align-items-center text-dark text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-lightbulb me-2" viewBox="0 0 16 16">
          <path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"/>
        </svg>
        <span class="fs-4">Google Suggest Explorer</span>
      </a>
    </header>

    <p class="lead">Enter a search term to see Google Search suggestions from different English-speaking countries. You can also get an AI-powered humorous explanation of the results.</p>

    <div class="row align-items-end mb-3">
      <div class="col-md">
        <label for="searchTerm" class="form-label">Search Term:</label>
        <input type="text" class="form-control" id="searchTerm" placeholder="e.g., learn python">
      </div>
      <div class="col-md-auto">
        <button type="button" class="btn btn-primary w-100" id="fetchSuggestions">Fetch Suggestions</button>
      </div>
    </div>

    <div id="loadingIndicator" class="spinner-border text-primary d-none mb-3" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>

    <div class="search-history-section">
      <p class="mb-1">
        Start your exploration with keywords like:
        <span id="initialKeywords" class="ms-1">
          <button type="button" class="btn btn-sm btn-outline-secondary history-item">how to</button>
          <button type="button" class="btn btn-sm btn-outline-secondary history-item ms-1">best way to</button>
          <button type="button" class="btn btn-sm btn-outline-secondary history-item ms-1">why is</button>
          <button type="button" class="btn btn-sm btn-outline-secondary history-item ms-1">can I</button>
        </span>
      </p>
      <div class="d-flex align-items-center flex-wrap">
        <h5 class="mb-0 me-2">Search History:</h5>
        <div id="searchHistory" class="d-flex flex-wrap">
          <!-- Search history items will be injected here -->
        </div>
      </div>
    </div>

    <div id="results" class="container-fluid mb-4">
      <!-- Google Suggest results will be injected here (in a row/column grid) -->
    </div>

    <div class="row g-3 align-items-end mb-3">
      <div class="col-lg-3 col-md-6">
        <label for="llmModel" class="form-label">LLM Model:</label>
        <select class="form-select" id="llmModel">
          <option value="openai/gpt-4.1-nano">OpenAI GPT-4.1 Nano</option>
          <option value="openai/gpt-4.1-mini">OpenAI GPT-4.1 Mini</option>
          <option value="openai/gpt-4.1" selected>OpenAI GPT-4.1</option>
          <option value="google/gemini-2.5-flash-preview-05-20">Google Gemini 2.5 Flash Preview</option>
          <option value="anthropic/claude-sonnet-4">Anthropic Claude Sonnet 4</option>
        </select>
      </div>
      <div class="col-lg-3 col-md-6">
        <label for="openaiBaseUrl" class="form-label">OpenAI Base URL:</label>
        <input type="text" class="form-control" id="openaiBaseUrl" value="https://api.openai.com/v1">
      </div>
      <div class="col-lg-4 col-md-8">
        <label for="openaiApiKey" class="form-label">OpenAI API Key:</label>
        <input type="password" class="form-control" id="openaiApiKey" placeholder="sk-...">
      </div>
      <div class="col-lg-2 col-md-4">
        <button type="button" class="btn btn-success w-100" id="explainButton" disabled>Explain This</button>
      </div>
    </div>

    <div id="llmLoadingIndicator" class="spinner-border spinner-border-sm text-primary d-none mb-3" role="status">
        <span class="visually-hidden">Generating explanation...</span>
    </div>

    <div id="llmResponseCard" class="card mt-0 d-none"> <!-- mt-0 as loading indicator has mb-3 -->
      <div class="card-header">
        AI Explanation
      </div>
      <div class="card-body">
        <div id="llmResponse">
          <!-- LLM response will be injected here -->
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script type="module" src="script.js"></script>
</body>
</html>
